(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{625:function(s,t,a){"use strict";a.r(t);var e=a(17),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("本文主要介绍了git使用SSH密钥、入门知识、分支管理以及常用命令，掌握了以下内容，你就可以在工作中轻松使用git了。")]),s._v(" "),a("h2",{attrs:{id:"ssh密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh密钥"}},[s._v("#")]),s._v(" SSH密钥")]),s._v(" "),a("p",[s._v("git使用https协议来推送代码时，你会发现每次pull，push的时候都需要你去手动输入密码，相当的烦。所以我们一般使用git协议来鉴权推送权限，这样一来我们就可以省去每次都需要输入密码的繁琐工作。使用git协议之前我们需要用到ssh密钥（下面会讲到如何生成密钥）")]),s._v(" "),a("p",[s._v("使用git协议总体来说需要三个步骤：\n一、本地生成密钥对；\n二、设置github上的公钥；\n三、修改git的remote url 为git协议")]),s._v(" "),a("h3",{attrs:{id:"_1、生成密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、生成密钥"}},[s._v("#")]),s._v(" 1、生成密钥")]),s._v(" "),a("p",[s._v("大多数Git服务器都会选择使用SSH公钥来进行授权。系统中的每一个用户都必须提供一个公钥用于授权，如果没有的话就需要生成一个。生成公钥的过程在所有操作系统上都差不多。首先确认一下自己是否已经有了公钥。SSH公钥默认存储在账户的主目录下的～/.ssh目录。进去看看：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/.ssh \n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\nauthorized_keys2  id_dsa       known_hosts config            id_dsa.pub\n")])])]),a("p",[s._v("关键是看有没有 xxx 和 xxx.pub (xxx代表的是密钥名称，可自己定义默认为 id_rsa) 的一对文件。这里的.pub 后缀的文件就是公钥，另一个文件则是密钥。假设没有这些文件，或者干脆连.ssh目录都没有，可以用ssh-keygen来创建。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ ssh-keygen -t rsa -C "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"your_email@youremail.com"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Creates a new ssh key using the provided email # Generating public/private rsa key pair. ")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Enter file in which to save the key (/home/you/.ssh/id_rsa):")]),s._v("\n\n")])])]),a("p",[s._v("之后直接回车就可以了。然后，会提示你输入密码，如下：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("Enter passphrase "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("empty "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" no passphrase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Type a passphrase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Enter same passphrase again: [Type passphrase again]")]),s._v("\n\n")])])]),a("p",[s._v("完了之后，大概是这样的界面")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("Your identification has been saved "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /home/you/.ssh/id_rsa. \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Your public key has been saved in /home/you/.ssh/id_rsa.pub. ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The key fingerprint is: # 01:0f:f4:3b:ca:85:d6:17:a1:7d:f0:68:9d:f0:a2:db your_email@youremail.com")]),s._v("\n")])])]),a("p",[s._v("到此你本地生成密钥对的工作就完成了，是不是非常的简单！")]),s._v(" "),a("h3",{attrs:{id:"_2、添加公钥到你的github账户中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、添加公钥到你的github账户中"}},[s._v("#")]),s._v(" 2、添加公钥到你的github账户中")]),s._v(" "),a("p",[s._v("2-1、查看你生成的公钥")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ~/.ssh/id_rsa.pub  \n\nssh-rsa DDDDB3Nzajlfjlejlejlrifsniibiuliuljllkjljliqewrejom/BWDSU GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlE\nLEVf4h9lFX5QVkbPppSwg0cda3 Pbv7kOdJ/MTyBlWXFCR+HAo3FXRHKJHKHdeeeeKHKHTFDESEKuuuugciLq8V6RjsNAQwdsdMFvSlVK/7XA t3FaoJoAsncM1Q9x5+3V\n0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx NrRFi9wrf+M7Q"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" schacon@agadorlaptop.local\n\n")])])]),a("p",[s._v("2-2、登录你的github账号。然后Account Settings -> 左侧点击SSH Keys -> 点击 Add SSH key\n2-3、然后就是复制你的公钥内容，粘贴到 设置 SSH keys 界面的文本框中。title，根据自己的喜好填一个。\n2-4、之后就是点击 add key，这样就完成了，接下来我们来验证一下key是不是工作正常")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -T git@github.com\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Attempts to ssh to github")]),s._v("\n")])])]),a("p",[s._v("如果看到如下提示，就表示你已经设置成功了。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("Hi username"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" You've successfully authenticated, but GitHub does not "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# provide shell access.")]),s._v("\n")])])]),a("h3",{attrs:{id:"_3、修改你本地的ssh-remote-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、修改你本地的ssh-remote-url"}},[s._v("#")]),s._v(" 3、修改你本地的ssh remote url")]),s._v(" "),a("p",[s._v("前提：")]),s._v(" "),a("ul",[a("li",[s._v("你已经在github中创建了一个空的仓库")]),s._v(" "),a("li",[s._v("将仓库clone到本地来\n=================================\n然后可以用 git remote -v 来查看当前的remote url, 如果采用的是https协议，如下：")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote -v\norigin https://github.com/someaccount/someproject.git "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fetch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\norigin https://github.com/someaccount/someproject.git "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("p",[s._v("我们可以看到这是使用https协议进行访问github的。\n我们可以在我们对应的仓库中看到我们的ssh协议的url。类似如下：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("git@github.com:someaccount/someproject.git\n\n")])])]),a("p",[s._v("这时候可以用 git remote set-url 来调整你的url")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote set-url origin git@github.com:someaccount/someproject.git\n\n")])])]),a("p",[s._v("然后我们可以使用git remote -v 来确认一下。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote -v\norigin https://git@github.com:someaccount/someproject.git "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fetch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\norigin https://git@github.com:someaccount/someproject.git "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("p",[s._v("至此，大功告成，如此以来你就可以省去输入密码的麻烦，也可以安全的进行 push，pull，fetch，checkout等操作了。")])])}),[],!1,null,null,null);t.default=n.exports}}]);