(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{537:function(s,n,a){"use strict";a.r(n);var e=a(2),t=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("要真正投入使用，还需要表单验证，配置表单验证的方法如下：")]),s._v(" "),n("h4",{attrs:{id:"必填校验"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#必填校验"}},[s._v("#")]),s._v(" 必填校验")]),s._v(" "),n("p",[s._v("在表单设计器的字段属性设置面板，勾选必填字段的选项。")]),s._v(" "),n("h4",{attrs:{id:"正则表达式校验"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#正则表达式校验"}},[s._v("#")]),s._v(" 正则表达式校验")]),s._v(" "),n("p",[s._v("通过表单设计器的字段属性设置面板，设置字段校验。这个属性提供了几个常见的正则去选择。接下来就是设置“校验失败提醒”")]),s._v(" "),n("h4",{attrs:{id:"自定义校验"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#自定义校验"}},[s._v("#")]),s._v(" 自定义校验")]),s._v(" "),n("p",[s._v("选中字段后，在表单选择器的字段设置面板中选择事件属性“onValidate”，编写校验代码")]),s._v(" "),n("p",[s._v("具体实现如下：")]),s._v(" "),n("p",[s._v("第一步表单组件初始化的时候，根据JSON表单的配置生成该表单组件所对应的所有rules")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("created() {\n  this.buildFieldRules()\n}\nmethods: {\n buildFieldRules() {\n  if (this.field.options.hidden) {\n    return\n  }\n\n  this.rules.splice(0, this.rules.length)  //清空已有\n  if (this.field.options.required) {\n    this.rules.push({\n      required: true,\n      trigger: ['blur'], \n      message: this.field.options.requiredHint,\n    })\n  }\n\n  if (this.field.options.validation) {\n    let vldName = this.field.options.validation\n    this.rules.push({\n      pattern: FormValidators[vldName], // FormValidators 里配置了常见正则判断\n      trigger: ['blur', 'change']\n      message: this.field.options.validationHint\n    })\n  },\n  if (this.field.options.onValidate) {\n    let customFn = (rule, value, callback) => {\n      let tmpFunc =  new Function('rule', 'value', 'callback', this.field.options.onValidate)\n      return tmpFunc.call(this, rule, value, callback)\n    }\n    this.rules.push({\n      validator: customFn,\n      trigger: ['blur', 'change']\n    })\n  }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])]),n("p",[s._v("第二步 在form-item上使用")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<el-form-item :rules="rules" :prop="field.propName"></el-form-item>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("以上就能完成动态表单的表单验证")])])}),[],!1,null,null,null);n.default=t.exports}}]);